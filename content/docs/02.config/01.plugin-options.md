---
title: 配置选项
description: 了解 uni-unocss 的所有配置选项及其用法。
---

## presetUni 配置

`presetUni` 是 uni-unocss 的核心预设，它会根据运行平台自动选择合适的配置。

### 基础配置

```ts [uno.config.ts]
import { defineConfig, presetUni } from 'uni-unocss'

export default defineConfig({
  presets: [
    presetUni({
      // 配置选项
    }),
  ],
})
```

::tip
`uni-unocss` 包内置多个核心导出，你可以直接引用它们
```
import { presetUni, presetIcon, transformerDirectives, transformerVariantGroup } from 'uni-unocss'
```
::

### 配置项

#### platform

- **类型**：`'web' | 'miniapp'`
- **默认值**：自动检测

指定运行平台。

::tip
通常不需要手动设置此选项，uni-unocss 会自动检测运行环境。
默认情况下，uni-unocss 会根据是否为**小程序**自动设置为 `miniapp`，其他情况设置为 `web`
::

#### wind

- **类型**：`PresetWind3Options`
- **默认值**：`undefined`

传递给 `@unocss/preset-wind3` 的配置选项。这允许你自定义 Tailwind CSS 兼容层的行为。

```ts
presetUni({
  wind: {
    // preset-wind3 的配置选项
    dark: 'class', // 暗色模式策略
  },
})
```

## Vite 插件

uni-unocss 默认导出 UnoCSS 的 Vite 插件：

```ts [vite.config.ts]
import UnoCSS from 'uni-unocss'
import { defineConfig } from 'vite'

export default defineConfig({
  plugins: [
    UnoCSS(),
  ],
})
```

## 小程序平台特殊处理

当 `platform` 为 `miniapp` 时，uni-unocss 会自动应用以下处理：

### 选择器转换

自动将不支持的选择器字符转换为安全字符

### 通配符支持

自动将 `*` 选择器转换为支持的元素列表：

### space-x/y 和 divide 支持

自动处理 `space-x-*`、`space-y-*` 和 `divide-*` 等需要兄弟选择器的工具类。

## 常见问题

### Q: 为什么某些类在小程序中不生效？

A: 小程序有一些 CSS 限制，如不支持 `*` 选择器、部分伪类等。uni-unocss 已经处理了大部分兼容性问题，但某些高级特性可能仍不可用。

### Q: 如何禁用自动平台检测？

A: 通过 `platform` 选项手动指定平台：

```ts
presetUni({
  platform: 'web', // 强制使用 web 模式
})
```

### Q: 图标在小程序中不显示？

A: 确保 `presetIcons` 配置了 `cdn` 选项，或者在本地安装了对应的图标集。

### Q: 不支持 Attributify 写法？

A: 是的，由于小程序的特殊性，使用 Attributify 写法经常与其他组件库属性冲突，并且难以解决，故此彻底移除